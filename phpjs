<?php

if ($_SERVER['REQUEST_METHOD'] == 'POST') {
    // Validate and sanitize inputs
    $sname = htmlspecialchars(trim($_POST['sname']));
    $scolor = htmlspecialchars(trim($_POST['scolor']));

    if ($tname && $scolor) {
        // Load existing feedback from the JSON file
        $SnakeFiles = 'snake-details.json';
        $Snakes = file_exists($SnakeFiles) ? json_decode(file_get_contents($Snakefiles), true) : [];

        // Create a new feedback entry
        $Newtask = [
            'sname' => $sname,
            'scolor' => $scolor,
        ];

        // Append the new feedback and save to the JSON file
        $Snakes[] = $NewSnake;

        file_put_contents($SnakeFiles, json_encode($Snakes, JSON_PRETTY_PRINT));

        $success = "$sname is added!";
        echo "<script>
        alert('$success');
        window.location.href = 'index.html';
        </script>";
    } else {
        $error = "All fields are required.";
    }
}

?>